diff -Nur old/authlib/configure.in new/authlib/configure.in
--- old/authlib/configure.in	2003-10-25 13:25:28.000000000 +0000
+++ new/authlib/configure.in	2004-02-24 13:42:24.000000000 +0000
@@ -384,14 +384,6 @@
 	saveLIBS="$LIBS"
 	LIBS="$NETLIBS $LIBS"
 	LDAPLIBS=""
-        AC_MSG_CHECKING(whether -lresolv is needed for res_query)
-        AC_TRY_LINK_FUNC(res_query,
-        	AC_MSG_RESULT(no),
-        	LIBS="-lresolv $LIBS"
-        	AC_TRY_LINK_FUNC(res_query,
-        		LDAPLIBS="-lresolv $LDAPLIBS" HAVE_LDAP=1
-        		AC_MSG_RESULT(yes),
-        		AC_MSG_ERROR(Cannot find function res_query)))
 	AC_CHECK_LIB(lber, ber_scanf,
 		[ LDAPLIBS="-llber $LDAPLIBS" LIBS="-llber $LIBS" ])
 	AC_CHECK_LIB(ldap, ldap_open,
diff -Nur old/courier/configure.in new/courier/configure.in
--- old/courier/configure.in	2003-10-30 00:53:31.000000000 +0000
+++ new/courier/configure.in	2004-02-24 13:40:33.000000000 +0000
@@ -248,14 +248,6 @@
 LDAPLIBS=""
 AC_CHECK_LIB(lber, ber_scanf,
 	[ LDAPLIBS="-llber" LIBS="-llber $LIBS" ])
-AC_MSG_CHECKING(whether -lresolv is needed for res_query)
-AC_TRY_LINK_FUNC(res_query,
-       	AC_MSG_RESULT(no),
-       	LIBS="-lresolv $LIBS"
-       	AC_TRY_LINK_FUNC(res_query,
-       		LDAPLIBS="-lresolv $LDAPLIBS"
-       		AC_MSG_RESULT(yes),
-       		AC_MSG_ERROR(Cannot find function res_query)))
 AC_CHECK_LIB(ldap, ldap_open,
 	[ LDAPLIBS="-lldap $LDAPLIBS" ; LIBS="-lldap $LIBS" ])
 AC_CHECK_FUNC(ldap_search_st, HAVE_LDAP=1, HAVE_LDAP=0)
